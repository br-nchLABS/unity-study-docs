# 08 - C# 스크립트 기초: 연산자

지난 시간에는 변수와 데이터 타입에 대해 배웠어. 이번에는 이 변수들에 담긴 값들을 가지고 여러 가지 계산을 하거나 조건을 비교하는 데 사용되는 **연산자(Operators)**에 대해 알아볼 거야.

## 1. 연산자(Operator)란 무엇인가?

연산자는 프로그래밍에서 **특정한 연산(계산, 비교, 할당 등)을 수행하도록 지시하는 기호**야. 예를 들어, `+` 기호는 두 숫자를 더하라는 덧셈 연산자고, `==` 기호는 두 값이 같은지 비교하라는 비교 연산자지.

C#에는 다양한 종류의 연산자가 있는데, 하나씩 살펴보자.

## 2. 주요 연산자 종류

### 가. 산술 연산자 (Arithmetic Operators)

이름 그대로 수학 계산에 사용되는 연산자들이야. 숫자 타입의 변수(주로 `int`나 `float`)에 사용돼.

| 연산자 | 이름   | 설명                     | 예시 (`int a = 10, b = 3;`) | 결과 |
| :----- | :----- | :----------------------- | :------------------------ | :--- |
| `+`    | 덧셈   | 두 값을 더함             | `a + b`                   | `13` |
| `-`    | 뺄셈   | 첫 번째 값에서 두 번째 값을 뺌 | `a - b`                   | `7`  |
| `*`    | 곱셈   | 두 값을 곱함             | `a * b`                   | `30` |
| `/`    | 나눗셈 | 첫 번째 값을 두 번째 값으로 나눔 | `a / b`                   | `3`  |
| `%`    | 나머지 | 첫 번째 값을 두 번째 값으로 나눈 나머지 | `a % b`                   | `1`  |

**주의:** `int` 타입끼리 나눗셈을 하면 결과도 `int` 타입으로 나와 (소수점 버림). 만약 소수점까지 정확한 결과를 원하면 `float` 타입으로 계산해야 해.

```csharp
int num1 = 10;
int num2 = 4;
Debug.Log(num1 / num2); // 결과: 2 (소수점 버림)

float num3 = 10.0f;
float num4 = 4.0f;
Debug.Log(num3 / num4); // 결과: 2.5
```

### 나. 할당 연산자 (Assignment Operators)

변수에 값을 저장(할당)할 때 사용돼. 가장 기본적인 할당 연산자는 `=` 이고, 다른 연산자와 결합된 복합 할당 연산자들도 있어.

| 연산자 | 이름         | 설명                                   | 예시 (`int score = 0;`) | 의미             |
| :----- | :----------- | :------------------------------------- | :---------------------- | :--------------- |
| `=`    | 할당         | 오른쪽 값을 왼쪽 변수에 할당             | `score = 100;`          | `score`는 `100`  |
| `+=`   | 덧셈 후 할당 | 왼쪽 변수에 오른쪽 값을 더한 후 다시 왼쪽 변수에 할당 | `score += 10;`          | `score = score + 10;` |
| `-=`   | 뺄셈 후 할당 | 왼쪽 변수에서 오른쪽 값을 뺀 후 다시 왼쪽 변수에 할당 | `score -= 5;`           | `score = score - 5;` |
| `*=`   | 곱셈 후 할당 | 왼쪽 변수에 오른쪽 값을 곱한 후 다시 왼쪽 변수에 할당 | `score *= 2;`           | `score = score * 2;` |
| `/=`   | 나눗셈 후 할당 | 왼쪽 변수를 오른쪽 값으로 나눈 후 다시 왼쪽 변수에 할당 | `score /= 4;`           | `score = score / 4;` |
| `%=`   | 나머지 후 할당 | 왼쪽 변수를 오른쪽 값으로 나눈 나머지를 다시 왼쪽 변수에 할당 | `score %= 3;`           | `score = score % 3;` |

복합 할당 연산자를 사용하면 코드를 더 간결하게 작성할 수 있어.

### 다. 비교 연산자 (Comparison Operators)

두 값을 비교하여 그 결과를 `true` 또는 `false` (논리형 `bool` 타입)로 반환해. 주로 조건문(`if` 문 등)에서 특정 조건을 만족하는지 확인할 때 많이 사용돼.

| 연산자 | 이름         | 설명                             | 예시 (`int age = 20;`) | 결과    |
| :----- | :----------- | :------------------------------- | :--------------------- | :------ |
| `==`   | 같음         | 두 값이 같으면 `true`              | `age == 20`            | `true`  |
| `!=`   | 같지 않음    | 두 값이 다르면 `true`              | `age != 20`            | `false` |
| `>`    | 큼           | 왼쪽 값이 오른쪽 값보다 크면 `true`    | `age > 18`             | `true`  |
| `<`    | 작음         | 왼쪽 값이 오른쪽 값보다 작으면 `true`    | `age < 20`             | `false` |
| `>=`   | 크거나 같음  | 왼쪽 값이 오른쪽 값보다 크거나 같으면 `true` | `age >= 20`            | `true`  |
| `<=`   | 작거나 같음  | 왼쪽 값이 오른쪽 값보다 작거나 같으면 `true` | `age <= 18`            | `false` |

### 라. 논리 연산자 (Logical Operators)

하나 이상의 `bool` 값을 연산하여 새로운 `bool` 값을 반환해. 여러 조건을 조합하여 더 복잡한 조건을 만들 때 사용돼.

| 연산자 | 이름      | 설명                                     | 예시 (`bool hasKey = true; bool doorLocked = false;`) | 결과    |
| :----- | :-------- | :--------------------------------------- | :------------------------------------------------- | :------ |
| `&&`   | 논리 AND  | 두 조건이 **모두** `true`일 때만 `true`        | `hasKey && !doorLocked` (열쇠가 있고 문이 잠겨있지 않으면) | `true`  |
| `||`   | 논리 OR   | 두 조건 중 **하나라도** `true`이면 `true`    | `hasKey || !doorLocked` (열쇠가 있거나 문이 잠겨있지 않으면) | `true`  |
| `!`    | 논리 NOT  | `true`는 `false`로, `false`는 `true`로 바꿈 | `!doorLocked` (문이 잠겨있지 않으면)                   | `true`  |

### 마. 증감 연산자 (Increment and Decrement Operators)

숫자 변수의 값을 1씩 증가시키거나 감소시킬 때 사용되는 편리한 연산자야.

| 연산자 | 이름   | 설명         | 예시 (`int count = 0;`) |
| :----- | :----- | :----------- | :-------------------- |
| `++`   | 증가   | 값을 1 증가  | `count++;` 또는 `++count;` |
| `--`   | 감소   | 값을 1 감소  | `count--;` 또는 `--count;` |

증감 연산자는 변수 **앞(전위, prefix)**에 붙느냐 **뒤(후위, postfix)**에 붙느냐에 따라 약간의 차이가 있어.

-   **전위 증감 (`++변수`, `--변수`)**: 먼저 변수의 값을 증감시킨 후, 그 결과를 사용.
-   **후위 증감 (`변수++`, `변수--`)**: 먼저 현재 변수의 값을 사용한 후, 그 다음에 변수의 값을 증감.

```csharp
int a = 5;
int b = ++a; // a는 6이 되고, b에도 6이 할당됨
Debug.Log($"a: {a}, b: {b}"); // 결과: a: 6, b: 6

int c = 5;
int d = c++; // d에는 c의 원래 값인 5가 할당되고, 그 다음에 c는 6이 됨
Debug.Log($"c: {c}, d: {d}"); // 결과: c: 6, d: 5
```
반복문(loop)에서 카운터 변수를 조작할 때 자주 사용돼.

## 3. 삼항 연산자 (Ternary Operator)

간단한 `if-else` 문을 한 줄로 축약해서 표현할 수 있는 특별한 연산자야.

형식: `조건식 ? 참일_때_값 : 거짓일_때_값;`

```csharp
int age = 20;
string status = (age >= 18) ? "성인" : "미성년자";
Debug.Log(status); // 결과: 성인

bool isRaining = true;
string weatherMessage = isRaining ? "우산을 챙기세요." : "맑은 날씨입니다.";
Debug.Log(weatherMessage); // 결과: 우산을 챙기세요.
```
코드를 간결하게 만들 수 있지만, 너무 복잡한 조건에는 사용하지 않는 것이 좋아.

## 4. 연산자 우선순위 (Operator Precedence)

하나의 표현식에 여러 연산자가 함께 사용될 때, 어떤 연산자가 먼저 실행될지를 결정하는 규칙이야. 수학에서 곱셈/나눗셈이 덧셈/뺄셈보다 먼저 계산되는 것과 비슷해.

일반적으로 다음과 같은 우선순위를 가져 (위에서부터 순서대로 높음):
1.  괄호 `()`
2.  단항 연산자 (`++`, `--`, `!`, `-` (음수 부호))
3.  산술 연산자 (`*`, `/`, `%` 다음 `+`, `-`)
4.  비교 연산자 (`<`, `>`, `<=`, `>=` 다음 `==`, `!=`)
5.  논리 연산자 (`&&` 다음 `||`)
6.  삼항 연산자 (`?:`)
7.  할당 연산자 (`=`, `+=` 등)

**팁:** 연산자 우선순위가 헷갈리거나 의도한 순서대로 계산하고 싶을 때는 **괄호 `()`**를 사용하여 명확하게 표현하는 것이 가장 좋아. 가독성도 높아지고 실수도 줄일 수 있어!

```csharp
int result1 = 10 + 5 * 2; // 곱셈이 먼저 계산됨: 10 + 10 = 20
Debug.Log(result1); // 결과: 20

int result2 = (10 + 5) * 2; // 괄호 안이 먼저 계산됨: 15 * 2 = 30
Debug.Log(result2); // 결과: 30
```

## 5. Unity 스크립트 예제

이제 배운 연산자들을 활용하여 간단한 Unity 스크립트를 작성해보자.

1.  새로운 C# 스크립트를 만들고 이름은 `OperatorTest`라고 지어줘.
2.  다음과 같이 코드를 작성해.

```csharp
using UnityEngine;

public class OperatorTest : MonoBehaviour
{
    public int playerScore = 0;
    public int enemyHealth = 100;
    public float moveSpeed = 5.0f;
    public bool isAlive = true;

    void Start()
    {
        // 산술 연산자 & 할당 연산자
        playerScore += 10; // playerScore = playerScore + 10;
        Debug.Log("초기 점수 + 10: " + playerScore); // 10

        enemyHealth -= 25; // 몬스터 체력 25 감소
        Debug.Log("몬스터 체력 - 25: " + enemyHealth); // 75

        float distance = 100.0f;
        float timeToArrive = distance / moveSpeed; // 도착까지 걸리는 시간 계산
        Debug.Log("도착 예상 시간: " + timeToArrive + "초");

        // 비교 연산자 & 논리 연산자
        if (playerScore >= 50 && isAlive)
        {
            Debug.Log("플레이어는 점수가 50 이상이고 살아있습니다!");
        }
        else
        {
            Debug.Log("플레이어 점수가 50 미만이거나 죽었습니다.");
        }

        if (enemyHealth <= 0)
        {
            Debug.Log("몬스터가 죽었습니다!");
        }

        // 증감 연산자
        int bulletCount = 5;
        bulletCount--; // 총알 1 감소
        Debug.Log("남은 총알: " + bulletCount); // 4

        // 삼항 연산자
        string gameStatus = (playerScore > 0) ? "게임 진행 중" : "게임 오버";
        Debug.Log("게임 상태: " + gameStatus);
    }

    void Update()
    {
        // 간단한 예시: 매 프레임마다 점수 1씩 증가 (Update는 매우 빠르게 호출됨)
        // playerScore++; 
        // Debug.Log("현재 점수: " + playerScore); // 콘솔에 너무 많은 로그가 찍힐 수 있으니 주의
    }
}
```

3.  씬에 빈 게임 오브젝트를 만들고 `OperatorTest` 스크립트를 붙여줘.
4.  게임을 실행하고 Console 창에서 `Debug.Log()`로 출력된 결과들을 확인해봐.

연산자를 잘 활용하면 변수의 값을 다양하게 조작하고, 게임의 여러 상황에 맞는 로직을 만들 수 있어. 앞으로 스크립트를 작성하면서 자연스럽게 익숙해질 테니 너무 걱정하지 말고 차근차근 연습해보자! 